<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../resource/css/boardUpdate.css">
    <!-- <script src="https://cdn.ckeditor.com/ckeditor5/31.1.0/classic/ckeditor.js"></script> -->
    <script src="../resource/lib/ckeditor5/build/ckeditor.js"></script>
    <script src="../js/boardClass.js"></script>
    <script src="../js/boardManagerClass.js"></script>

    <script>


        window.onload = async function () {
            window.editor = await ClassicEditor.create(document.querySelector("#content"));
            const list = new BoardManager();
            const boardIndex = new URLSearchParams(location.search).get("index");
            const board = list.getBoardList()[boardIndex];
            title.value = board.getTitle();
            editor.setData(board.getContent())
        }

    </script>
</head>

<body>
    <div id="container">
        <div id="head">
            <div id="header">
                <h1 class="logo">
                    <a href="./main.html">THE SHILLA HOTELS & RESORTS</a>
                </h1>
                <span class="loginArea">
                    <a href="./loginSignup.html">로그인</a>
                </span>

                <!-- 예약확인 토글 -->
                <div class="resrve-confirm">
                    <!-- on 일때 background 변경 -->
                    <div class="resrve-confirm-box">
                        <!-- preventDefault 줘야함 -->
                        <a class="resrve-btn" href="#">예약확인</a>
                        <!-- 기본 display: none; -->
                        <ul class="list">
                            <li>
                                <ul class="list-style">
                                    <li class="style1">
                                        <a href="./loginSignup.html">
                                            <span>객실</span>
                                        </a>
                                    </li>
                                    <li class="style1">
                                        <a href="./loginSignup.html">
                                            <span>다이닝</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- 호텔찾기 -->
                <div class="hotel-box">
                    <a class="hotel-find-btn" href="#;"></a>
                    <!-- 모달창 -->
                    <div class="fh-modal">
                        <!-- 모달 head -->
                        <div class="fhm-head">
                            <ul class="fhm-tab-box">
                                <li class="fhm-tab1 on">
                                    <a class="fhm-tab1-btn" href="#">
                                        <span>권역별</span>
                                    </a>
                                </li>
                                <li class="fhm-tab2">
                                    <a class="fhm-tab2-btn" href="#">
                                        <span>브랜드별</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <!-- 권역별 -->
                        <div class="fhm-body1">
                            <div class="fhm-region">
                                <ul>
                                    <li class="fhm-domestic"><img src="../resource/img/main/main_tab2_tit1.gif"
                                            alt="국내"></li>
                                    <!-- 서울 강북 -->
                                    <li>
                                        <span class="fhm-location">
                                            <img src="../resource/img/main/main_tab2_stit1.gif" alt="">
                                        </span>
                                        <ul class="fhm-select-wrap">
                                            <li class="fhm-select-box">
                                                <span>서울신라호텔</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 광화문</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 마포</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 서대문</span>
                                            </li>
                                        </ul>
                                    </li>
                                    <!-- 서울 강남 -->
                                    <li>
                                        <span class="fhm-location">
                                            <img src="../resource/img/main/main_tab2_stit2.gif" alt="">
                                        </span>
                                        <ul class="fhm-select-wrap">
                                            <li class="fhm-select-box">
                                                <span>신라스테이 역삼</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 서초</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 구로</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 삼성</span>
                                            </li>
                                        </ul>
                                    </li>
                                    <!-- 전국 -->
                                    <li>
                                        <span class="fhm-location">
                                            <img src="../resource/img/main/main_tab2_stit3.gif" alt="">
                                        </span>
                                        <ul class="fhm-select-wrap">
                                            <li class="fhm-select-box">
                                                <span>제주신라호텔</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 동탄</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 천안</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 울산</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 해운대</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 서부산</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 여수</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 제주</span>
                                            </li>
                                            <li class="fhm-select-box">
                                                <span>신라스테이 플러스 이호테우</span>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                                <!-- 해외 -->
                                <ul class="fhm-overseas">
                                    <li class="fhm-domestic"><img src="../resource/img/main/main_tab2_tit2.gif"
                                            alt="국내"></li>
                                    <li>
                                        <span class="fhm-location">
                                            <img src="../resource/img/main/main_tab2_stit4.gif" alt="">
                                        </span>
                                        <ul class="fhm-select-wrap">
                                            <li class="fhm-select-box">
                                                <span>신라모노그램 다낭</span>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- 브랜드별 -->
                        <div class="fhm-body2">
                            <div class="fhm-brand">
                                <!-- THESHILLA -->
                                <ul>
                                    <li class="fhm-brand-logo">
                                        <span>
                                            <img src="../resource/img/main/main_tab1_tit1.gif" alt="국내">
                                        </span>
                                    </li>
                                    <li>
                                        <ul class="fhm-select-wrap2">
                                            <li class="fhm-select-box2">
                                                <span>서울신라호텔</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>제주신라호텔</span>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                                <!-- SHILLA MONOGRAM -->
                                <ul>
                                    <li class="fhm-brand-logo">
                                        <span>
                                            <img src="../resource/img/main/main_tab1_tit2.gif" alt="국내">
                                        </span>
                                    </li>
                                    <li>
                                        <ul class="fhm-select-wrap2">
                                            <li class="fhm-select-box2">
                                                <span>신라모노그램 다낭</span>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                                <!-- SHILLA STAY -->
                                <ul>
                                    <li class="fhm-brand-logo">
                                        <span>
                                            <img src="../resource/img/main/main_tab1_tit3.gif" alt="국내">
                                        </span>
                                    </li>
                                    <li>
                                        <ul class="fhm-select-wrap2">
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 광화문</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 마포</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 서대문</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 역삼</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 서초</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 구로</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 삼성</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 동탄</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 천안</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 울산</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 해운대</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 서부산</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 여수</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 제주</span>
                                            </li>
                                            <li class="fhm-select-box2">
                                                <span>신라스테이 플러스 이호테우</span>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- 닫기 버튼 -->
                        <a class="fhm-close" href="#">닫기</a>
                    </div>
                    <!-- 모달 배경 -->
                    <div class="fhm-screen"></div>
                </div>

                <!-- 예약 -->
                <div class="rsv-box">
                    <a class="rsv-btn" href="javascript:void(0);"></a>
                    <!-- 예약 모달창 -->
                    <div class="rsv-modal">
                        <!-- 모달 head -->
                        <div class="rsv-head">
                            <ul class="rsv-tab">
                                <li>
                                    <a>
                                        <span></span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <!-- 모달 content -->
                        <div class="rsv-content">
                            <div class="rsv-list">
                                <ul>
                                    <li class="rsv-hotel-link">
                                        <a href="javascript:void(0)">
                                            객실 예약
                                        </a>
                                    </li>
                                    <li class="rsv-dining-link">
                                        <a href="javascript:void(0)">
                                            다이닝 예약
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- 닫기 버튼 -->
                        <a class="rsv-close" href="#">닫기</a>
                    </div>
                    <!-- 모달 배경 -->
                    <div class="rsv-screen"></div>
                </div>

                <!-- 네비게이션바 -->
                <div class="nav-bar">
                    <ul>
                        <li>
                            <span class="nav1">
                                <a href="#">호텔신라 소개</a>
                            </span>
                        </li>
                        <li>
                            <span class="nav2">
                                <a href="./boardList.html">고객문의</a>
                            </span>
                        </li>
                        <li>
                            <span class="nav3">
                                <a href="#">신라리워즈</a>
                            </span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="content">
            <div>
                <h2>문의 수정</h2>
            </div>
            <div>
                <form id="form">
                    <div>
                        <div>
                            <label for="title">제목</label>
                        </div>
                        <div>
                            <input type="text" id="title">
                        </div>
                    </div>
                    <div>
                        <div>
                            <label for="content">상세내용</label>
                        </div>
                        <div>
                            <textarea id="content" name="content"></textarea>
                        </div>
                    </div>
                    <div class="btn-box">
                        <button>수정완료</button>
                        <button type="button" id="back">뒤로가기</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="footer">
            <div>
                <img src="../resource/img/footerlogo.gif">
            </div>
            <div>
                <div>
                    <div>
                        <img src="../resource/img/mono.png">
                    </div>
                    <div>
                        <img src="../resource/img/stay.png">
                    </div>
                    <div>
                        <img src="../resource/img/shilla.png">
                    </div>
                </div>
                <div>
                    <div>
                        <img src="../resource/img/tel.gif" alt="">
                    </div>
                    <div>
                        <img src="../resource/img/intro.png" alt="">
                    </div>
                    <div>
                        <img src="../resource/img/sns.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script src="../js/boardUpdate.js"></script>
<script>

    function getEditor() {
        return editor
    }
    const _form = document.querySelector("#form");

    function submitHandler() {
        let nickname = sessionStorage.getItem("currentUser");
        const boardIndex = parseInt(new URLSearchParams(location.search).get("index"));

        const title = document.querySelector("#title").value;
        const content = editor.getData();


        const boardList = new BoardManager();
        boardList.updateBoard(boardIndex, title, content);
        location.href = `boardDetail.html?index=${boardIndex}`;

    }
    _form.onsubmit = function (e) {
        e.preventDefault();
        submitHandler()
    }
</script>
<script src="../js/loginCheck.js"></script>
<script src="../js/header.js"></script>

</html>